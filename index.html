<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Lernseite</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background-color: #f4f4f4; }
    #login, #quiz, #result { display: none; }
    .card { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    button { padding: 10px 20px; margin: 10px; font-size: 16px; }
    #counter { position: absolute; top: 20px; right: 20px; font-weight: bold; }
  </style>
</head>
<body>

<div id="login" class="card">
  <h2>Passwortgeschützt</h2>
  <input type="password" id="password" placeholder="Passwort eingeben">
  <button onclick="checkPassword()">Einloggen</button>
</div>

<div id="quiz" class="card">
  <div id="counter">Richtig: 0 / 30</div>
  <h2 id="question">Frage wird geladen...</h2>
  <button onclick="answer(true)">Richtig</button>
  <button onclick="answer(false)">Falsch</button>
</div>

<div id="result" class="card">
  <h2>Auswertung</h2>
  <canvas id="chart" width="300" height="300"></canvas>
  <p id="summary"></p>
</div>

<script>
  // Passwortprüfung
  const correctPassword = "waschbärpenis123";
  document.getElementById('login').style.display = 'block';

  function checkPassword() {
    const input = document.getElementById('password').value;
    if (input === correctPassword) {
      document.getElementById('login').style.display = 'none';
      document.getElementById('quiz').style.display = 'block';
      loadNextQuestion();
    } else {
      alert("Falsches Passwort!");
    }
  }

  // Fragen (jährlicher Bezug)
  const questions = [
    { q: "Ist der Januar der kälteste Monat in Deutschland?", a: true },
    { q: "Findet Ostern immer im März statt?", a: false },
    { q: "Blühen Kirschbäume typischerweise im April?", a: true },
    { q: "Gibt es in Deutschland im Juli typischerweise Schnee?", a: false },
    { q: "Ist der Dezember ein Wintermonat?", a: true },
    { q: "Beginnt der Herbst im Mai?", a: false },
    { q: "Ist der Juni der längste Tag des Jahres?", a: true },
    { q: "Fallen im September die meisten Blätter?", a: true },
    { q: "Gibt es im August regelmäßig Nachtfrost?", a: false },
    { q: "Findet der Nikolaustag im November statt?", a: false },
    { q: "Ist der Oktober für seine bunten Blätter bekannt?", a: true },
    { q: "Ist Weihnachten im Juni?", a: false },
    { q: "Kann es im März schon frühlingshaft sein?", a: true },
    { q: "Beginnt der Winter im August?", a: false },
    { q: "Werden im April oft Schauerwetter beobachtet?", a: true },
    { q: "Ist der Mai ein typischer Monat für Spargel?", a: true },
    { q: "Gibt es im Februar meist viele Sonnenstunden?", a: false },
    { q: "Ist der November oft neblig?", a: true },
    { q: "Sind Sommertage typisch für den Oktober?", a: false },
    { q: "Fällt Silvester auf den 31. Dezember?", a: true },
    { q: "Liegt der meteorologische Herbstbeginn im September?", a: true },
    { q: "Sind im Juli viele Festivals?", a: true },
    { q: "Ist der März Teil des Winters?", a: true },
    { q: "Geht die Sonne im Juni besonders früh auf?", a: true },
    { q: "Ist der April besonders trocken?", a: false },
    { q: "Finden im Dezember oft Weihnachtsmärkte statt?", a: true },
    { q: "Gibt es im Mai keinen Regen?", a: false },
    { q: "Sind die Nächte im Januar sehr kurz?", a: false },
    { q: "Beginnt der Frühling im März?", a: true },
    { q: "Hat der Februar immer 29 Tage?", a: false },
  ];

  let currentIndex = 0;
  let correct = 0;
  let total = 0;

  function loadNextQuestion() {
    if (total >= 30) {
      showResult();
      return;
    }

    const question = questions[total];
    document.getElementById("question").textContent = question.q;
    document.getElementById("counter").textContent = `Richtig: ${correct} / 30`;
  }

  function answer(userAnswer) {
    if (questions[total].a === userAnswer) correct++;
    total++;
    loadNextQuestion();
  }

  function showResult() {
    document.getElementById('quiz').style.display = 'none';
    document.getElementById('result').style.display = 'block';

    const percent = Math.round((correct / 30) * 100);
    document.getElementById('summary').textContent =
      `Du hast ${correct} von 30 Fragen richtig beantwortet (${percent}%).`;

    // Kreisdiagramm
    const canvas = document.getElementById("chart");
    const ctx = canvas.getContext("2d");
    const radius = 100;
    const cx = canvas.width / 2;
    const cy = canvas.height / 2;

    // Zeichne korrekt
    const correctAngle = (correct / 30) * 2 * Math.PI;
    ctx.fillStyle = "#4caf50";
    ctx.beginPath();
    ctx.moveTo(cx, cy);
    ctx.arc(cx, cy, radius, 0, correctAngle);
    ctx.lineTo(cx, cy);
    ctx.fill();

    // Zeichne falsch
    ctx.fillStyle = "#f44336";
    ctx.beginPath();
    ctx.moveTo(cx, cy);
    ctx.arc(cx, cy, radius, correctAngle, 2 * Math.PI);
    ctx.lineTo(cx, cy);
    ctx.fill();
  }
</script>

</body>
</html>
